'use strict';
define(['jquery', 'underscore', 'flight/lib/component'], function($, _, defineComponent) {
  var infoWindowData;
  infoWindowData = function() {
    this.defaultAttrs({
      pinRoute: "/map/pin/"
    });
    this.getData = function(ev, data) {
      return this.xhr = $.ajax({
        url: "" + this.attr.pinRoute + data.listingId,
        success: (function(_this) {
          return function(ajaxData) {
            return $(document).trigger("infoWindowDataAvailable", ajaxData);
          };
        })(this),
        complete: function() {}
      });
    };
    return this.after('initialize', function() {
      return this.on(document, 'uiInfoWindowDataRequest', this.getData);
    });
  };
  return defineComponent(infoWindowData);
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGEvaW5mb193aW5kb3cuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQUEsQ0FBQTtBQUFBLE1BRUEsQ0FBTyxDQUFDLFFBQUQsRUFBVyxZQUFYLEVBQXlCLHNCQUF6QixDQUFQLEVBQXlELFNBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxlQUFQLEdBQUE7QUFFdkQsTUFBQSxjQUFBO0FBQUEsRUFBQSxjQUFBLEdBQWlCLFNBQUEsR0FBQTtBQUVmLElBQUEsSUFBQyxDQUFBLFlBQUQsQ0FDRTtBQUFBLE1BQUEsUUFBQSxFQUFVLFdBQVY7S0FERixDQUFBLENBQUE7QUFBQSxJQUlBLElBQUMsQ0FBQSxPQUFELEdBQVcsU0FBQyxFQUFELEVBQUssSUFBTCxHQUFBO2FBQ1QsSUFBQyxDQUFBLEdBQUQsR0FBTyxDQUFDLENBQUMsSUFBRixDQUNMO0FBQUEsUUFBQSxHQUFBLEVBQUssRUFBQSxHQUFHLElBQUMsQ0FBQSxJQUFJLENBQUMsUUFBVCxHQUFvQixJQUFJLENBQUMsU0FBOUI7QUFBQSxRQUNBLE9BQUEsRUFBUyxDQUFBLFNBQUEsS0FBQSxHQUFBO2lCQUFBLFNBQUMsUUFBRCxHQUFBO21CQUNQLENBQUEsQ0FBRSxRQUFGLENBQVcsQ0FBQyxPQUFaLENBQW9CLHlCQUFwQixFQUErQyxRQUEvQyxFQURPO1VBQUEsRUFBQTtRQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FEVDtBQUFBLFFBR0EsUUFBQSxFQUFVLFNBQUEsR0FBQSxDQUhWO09BREssRUFERTtJQUFBLENBSlgsQ0FBQTtXQVdBLElBQUMsQ0FBQSxLQUFELENBQU8sWUFBUCxFQUFxQixTQUFBLEdBQUE7YUFDbkIsSUFBQyxDQUFBLEVBQUQsQ0FBSSxRQUFKLEVBQWMseUJBQWQsRUFBeUMsSUFBQyxDQUFBLE9BQTFDLEVBRG1CO0lBQUEsQ0FBckIsRUFiZTtFQUFBLENBQWpCLENBQUE7QUFnQkEsU0FBTyxlQUFBLENBQWdCLGNBQWhCLENBQVAsQ0FsQnVEO0FBQUEsQ0FBekQsQ0FGQSxDQUFBIiwiZmlsZSI6ImRhdGEvaW5mb193aW5kb3cuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuZGVmaW5lIFsnanF1ZXJ5JywgJ3VuZGVyc2NvcmUnLCAnZmxpZ2h0L2xpYi9jb21wb25lbnQnXSwgKCQsIF8sIGRlZmluZUNvbXBvbmVudCkgLT5cblxuICBpbmZvV2luZG93RGF0YSA9IC0+XG5cbiAgICBAZGVmYXVsdEF0dHJzXG4gICAgICBwaW5Sb3V0ZTogXCIvbWFwL3Bpbi9cIlxuXG5cbiAgICBAZ2V0RGF0YSA9IChldiwgZGF0YSkgLT5cbiAgICAgIEB4aHIgPSAkLmFqYXhcbiAgICAgICAgdXJsOiBcIiN7QGF0dHIucGluUm91dGV9I3tkYXRhLmxpc3RpbmdJZH1cIlxuICAgICAgICBzdWNjZXNzOiAoYWpheERhdGEpID0+XG4gICAgICAgICAgJChkb2N1bWVudCkudHJpZ2dlciBcImluZm9XaW5kb3dEYXRhQXZhaWxhYmxlXCIsIGFqYXhEYXRhXG4gICAgICAgIGNvbXBsZXRlOiAtPlxuXG4gICAgQGFmdGVyICdpbml0aWFsaXplJywgLT5cbiAgICAgIEBvbiBkb2N1bWVudCwgJ3VpSW5mb1dpbmRvd0RhdGFSZXF1ZXN0JywgQGdldERhdGFcblxuICByZXR1cm4gZGVmaW5lQ29tcG9uZW50KGluZm9XaW5kb3dEYXRhKVxuIl19